<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <title>Formulier met referenties en IDâ€™s</title>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
<div x-data="{ options: ['Optie A', 'Optie B'], newOption: '' }"
     x-id="['option']">
    <form>
        <template x-for="(opt, index) in options" :key="index">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" :id="$id('option', index)">
                <label class="form-check-label" :for="$id('option', index)" x-text="opt"></label>
            </div>
        </template>
        <div class="input-group mt-3">
            <input type="text"
                   x-model="newOption"
                   placeholder="Nieuwe optie"
                    class="form-control"
                   x-ref="newField"
            >
            <button class="btn btn-primary"
                    @click.prevent="if(newOption) { options.push(newOption); newOption = ''; $nextTick(() => $refs.newField.focus()); }"
            >
                Toevoegen
            </button>
        </div>
    </form>
</div>
</body>
</html>
